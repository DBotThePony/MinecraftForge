--- a/net/minecraft/advancements/CriteriaTriggers.java
+++ b/net/minecraft/advancements/CriteriaTriggers.java
@@ -102,10 +_,12 @@

    public static <T extends CriterionTrigger<?>> T register(String p_298570_, T p_10596_) {
       ResourceLocation resourcelocation = new ResourceLocation(p_298570_);
+      synchronized (CRITERIA) {
       if (CRITERIA.putIfAbsent(resourcelocation, p_10596_) != null) {
          throw new IllegalArgumentException("Duplicate criterion id " + resourcelocation);
       } else {
          return p_10596_;
+      }
       }
    }
 
